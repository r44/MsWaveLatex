\chapter{Experiment}
\label{c:exp}

\section{Experiment Setup} % (fold)
\label{s:experiment_setup}

In this section, we discuss the resluts of our experiments.  There are four parts in our experiments.  First, we compare our framework with other frameworks in the communication cost.  Second, since there are several stages of improvement in our framework, we discuss each of their influence to our final model.  Third, we consider the amortization of transmitting the orthogonal matrices.  Finally, we compare the power of pruning among different bounds.  For every experiment, we average the results of $100$ experiments by randomly picking our $100$ instances as the queries.
% section experiment_setup (end)

\section{Data Description} % (fold)
\label{s:data_description}

The table \ref{table:datasets} is the description of those datasets we used in our experiments. Note that the $n\times m$ in the final column means that there are $n$ instances placed in each machine and $m$ machines used in this experiments.  For instance, for the image dataset ANN with SIFT feature, there are totally $5000$ machines and each has $200$ instances in our experiments.

\begin{table}[htpb]\begin{center}
\caption{Summary for each dataset}\label{table:datasets}
\begin{tabular}{|c|c|c|c|c|}
\hline 
Type & Dataset & Feature & Num of Dimensions & Num of Instances\\ \hline \hline
Time Series & Random Walk & $N(0,1)$ & 128 & $200\times 5000$\\ \hline
\multirow{3}{*}{Image} & ANN & SIFT & 128 & $200\times 5000$\\ 
\cline{2-5}
 & \multirow{2}{*}{Flickr} & CSD & 256 & $500\times 2000$\\ 
 & & SCD & 256 & $500\times 2000$\\ \hline
 \multirow{2}{*}{Audio} & \multirow{2}{*}{Million Songs} & MVD & 480 & $500\times 1900$ \\ 
 \cline{3-5}
 & & TRH & 480 & $500\times 1900$\\ \hline
\end{tabular}
\end{center}\end{table}

\subsection{Time Series Data} % (fold)
\label{ssb:time}
The time series datasets we used is a synthetic dataset.  We use the random walk data model in \cite{time}.  Each time series is generated by a random walk whose every step size is a normal distributed random number with mean $0$ and standard deviation $1$.  We also use this model to generate the synthetic dataset in the experiments of MsWave \cite{MsWave}.
% subsection time (end)

\subsection{Image Data} % (fold)
\label{ss:Image}
We use two datasets in our experiments for images.  First is the data provied in \cite{ANN}, which is a widely used dataset for evaluate the performance of approximate nearest neighbors search algorithms.  The another one is the Flickr datasets with two kind of features used in \cite{Flickr}.  The dataset is also a widely used dataset in the task of image retrieval.  The CSD indicates \emph{Color Structure Descriptor} while the SCD means \emph{Scalable Color Descriptor}.
% subsection Image (end)

\subsection{Audio Data} % (fold)
\label{sub:audio_data}
Here we use the audio data named Million Song Dataset from~\cite{Bertin-Mahieux2011} which is a free-available collection of audio features for a million contemporary popular music tracks. For the features, MVD means \emph{Modulation Frequency Variance Descriptor} and TRH is \emph{Temporal Rhythm Histograms}.  Please refer to \cite{LID_05ismir,RAU_03jnmr,RAU_01ecdl} to see the details about how these features were extracted.
% subsection audio_data (end)

% subsection data_description (end)

\section{Comparison Among all Frameworks} % (fold)
\label{s:comparison_among_all_frameworks}

$k=10$, $|Q|=500$, $M=500,1000,1500,...$
compare all diff frameworks for all data here. remember to add Mat cost.

\subsection{Frameworks for Comparison} % (fold)
\label{ss:frameworks_for_comparison}

We compare our framework with 
\textsc{LeeWave},
\emph{LeeWave},
\emph{Naive},

\emph{CP},
\emph{PRP},
\textsc{CP}

Note that the cost of our framework here does not include the cost of sending the orthogonal matrices.  We will prove in the section ref that the total cost including the matrices could be amortized by enough queries and thus to achieve the cost here.  That is, we could see the cost of our framework here as the cost after amortized by enough queries.  Due to the time limitations, we didn't conduct enough number of queries to achieve the amortized results.


% subsection frameworks_for_comparison (end)

\subsection{Results of Different Frameworks} % (fold)
\label{sub:results_of_different_fra}

% subsection results_of_different_fra (end)



% section comparison_among_all_frameworks (end)


\section{Number of Queries for Amortizing the Cost of Matrices} % (fold)
\label{s:number_of_queries_for_amortizing_the_cost_of_matrices}

\begin{table}[htpb]\begin{center}
\caption{Summary for each dataset}\label{table:datasets}
\begin{tabular}{|c|c|c|c|c|}
\hline 
Type & Dataset & Feature & Num of Dimensions & Num of Instances\\ \hline \hline
Time Series & Random Walk & $N(0,1)$ & 128 & $200\times 5000$\\ \hline
\multirow{3}{*}{Image} & ANN & SIFT & 128 & $200\times 5000$\\ 
\cline{2-5}
 & \multirow{2}{*}{Flickr} & CSD & 256 & $500\times 2000$\\ 
 & & SCD & 256 & $500\times 2000$\\ \hline
 \multirow{2}{*}{Audio} & \multirow{2}{*}{Million Songs} & MVD & 480 & $500\times 1900$ \\ 
 \cline{3-5}
 & & TRH & 480 & $500\times 1900$\\ \hline
\end{tabular}
\end{center}\end{table}


% subsection number_of_queries_for_amortizing_the_cost_of_matrices (end)



\section{Comparison Among our Framework with Different Configurations} % (fold)
\label{s:comparison_among_our_framework_with_different_configurations}

There are many stages of algorithms which lead to the final version of our framework.  Therefore, in this section, we would like to discuss the performance of our framwork with or without.

From ~\ref{MsWave} to our framework, we have enhanced it

\subsection{Different Configurations for Comparison} % (fold)
\label{sub:different_configurations_for_comparison}

% subsection different_configurations_for_comparison (end)


\subsection{Results of Different Configurations} % (fold)
\label{sub:results_of_different_configs}

% subsection results_of_different_fra (end)



\subsection{Influence of the Orthogonal Transformation} % (fold)
\label{ss:influence_of_the_orthogonal_transformation}

NoW

% subsection influence_of_the_orthogonal_transformation (end)
\subsection{Influence of the Threshold-Finding Procedure} % (fold)
\label{sub:influence_of_the_threshold_finding_procedure}

NoPRP

% subsection influence_of_the_threshold_finding_procedure (end)
\subsection{Influence of the Coordinate Descent for Deciding Pivots} % (fold)
\label{sub:influence_of_the_decision_of_pivots}

NoCD

% subsection influence_of_the_decision_of_pivots (end)
% subsection comparison_among_our_framework_with_different_configurations (end)

\section{Power of the Pruning Procedure} % (fold)
\label{s:power_of_the_pruning_procedure}

Comp among LeeWave, NoW, Main for ResSite.

% subsection power_of_the_pruning_procedure (end)



%\bibliographystyle{unsrt}
%\bibliography{thesisbib}